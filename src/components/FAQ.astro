---
import IArrow from "./icon/IArrow.astro"

const faqData = [
    {
        question: "Какой формат обучения?",
        answer: "Обучение проходит онлайн в формате видеоуроков, которые доступны в любое время. Каждую неделю проводятся живые вебинары с разбором сложных тем. Домашние задания проверяются преподавателями с подробной обратной связью."
    },
    {
        question: "Есть ли гарантия результата?",
        answer: "Мы гарантируем, что при выполнении всех рекомендаций преподавателей и регулярной работе вы достигнете заявленных результатов."
    },
];
---

<!-- FAQ -->
<section id="faq" class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                Часто задаваемые вопросы
            </h2>
        </div>
        <div class="max-w-3xl mx-auto">
            <div class="space-y-4">
                {faqData.map((item, index) => (
                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                        <button class="w-full flex justify-between items-center p-4 text-left text-gray-900 font-medium hover:bg-gray-50 focus:outline-none" onclick={`toggleFAQ(${index + 1})`}>
                            <span>{item.question}</span>
                            <i class="fas fa-chevron-down text-purple-600 transition-transform duration-200" id={`faq-icon-${index + 1}`}>
                                <IArrow height="25px" width="25px"/>
                            </i>
                        </button>
                        <div class="hidden px-4 pb-4 text-gray-600" id={`faq-content-${index + 1}`}>
                            <p>{item.answer}</p>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </div>
</section>

<script defer>
        // FAQ аккордеон
        function toggleFAQ(index) {
            const content = document.getElementById(`faq-content-${index}`);
            const icon = document.getElementById(`faq-icon-${index}`);
            
            content.classList.toggle('hidden');
            icon.classList.toggle('transform');
            icon.classList.toggle('rotate-180');
        }
    </script>
